<div class="allergies-catalog-container">

  <!-- Indicador de Carregamento -->
  <div *ngIf="isLoading" class="loading-indicator" aria-live="polite">
    <div class="spinner"></div>
  </div>

  <div class="button-container">
    <button class="add-btn" (click)="addAllergy()" aria-label="Add a new allergy">
      Add
    </button>
  </div>

  <div *ngIf="successMessage" class="success-message" role="alert">
    {{ successMessage }}
  </div>

  <!-- Mensagem de Erro -->
  <div *ngIf="message" class="error-message" role="alert">
    {{ message }}
  </div>

  <!-- Lista de Alergias -->
  <div *ngIf="!isLoading && allergiesCatalogItem.length > 0" class="allergies-list" role="list"
    aria-labelledby="allergiesCatalogTitle">
    <div class="table-wrapper">
      <table class="allergies-table">
        <thead>
          <tr>
            <th>Code</th>
            <th>Designation</th>
            <th>Description</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let allergy of allergiesCatalogItem">
            <td>{{ allergy.code }}</td>
            <td>{{ allergy.designation }}</td>
            <td>
              <span *ngIf="allergy.description; else noDescription">{{ allergy.description }}</span>
              <ng-template #noDescription>N/A</ng-template>
            </td>
            <td>
              <button (click)="editAllergy(allergy)">Edit</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>